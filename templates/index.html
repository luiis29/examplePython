{% extends "layout.html" %}

{% block body %}
    <p class="encabezado">Users</p>

    <div class="row">
        <div class="col s12">
            <a href="/addUser" class=" btn green darken-3 waves-effect waves-light botones-hover white-text right">
                <i class="material-icons left white-text">person_add</i>
                Add user
            </a>
        </div>
    </div>

    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            {% for typemessage, message in messages %}
                <div id="alerta" class="row">
                    <div class="col s6 alert {{typemessage}}">
                        <button class="btn-alert btn-alert-{{typemessage}}" onclick="ocultarAlerta();">
                            X
                        </button>
                        {{message}}
                    </div>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <table id="table" class="striped centered">
        <thead class="white-text">
            <tr>
                <td>Names</td>
                <td>Last Name</td>
                <td>Role</td>
                <td>Operations</td>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                <tr>
                    <td>
                        {{user.1}}
                    </td>
                    <td>
                        {{user.2}}
                    </td>
                    <td>
                        {{user.3}}
                    </td>
                    <td>
                        <a href="/edit/{{user.0}}" class="btn-floating blue darken-3 waves-effect waves-light botones-hover" title="Edit">
                            <i class="material-icons">edit</i>
                        </a>
                        <a href="/delete/{{user.0}}" class="btn-floating red darken-2 waves-effect waves-light botones-hover btn-delete" title="Delete">
                            <i class="material-icons">delete_forever</i>
                        </a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}